{"version":3,"sources":["../../../src/controllers/discussController.js"],"names":["discussController","io","nav","require","checkIfSignIn","req","res","next","user","redirect","getDiscussPage","render","title","userName","undefined","username","module","exports"],"mappings":";;AACA,IAAIA,oBAAoB,SAApBA,iBAAoB,CAAUC,EAAV,EAAcC,GAAd,EAAmB;;AAEvCC,YAAQ,+BAAR,EAAyCF,EAAzC;;AAEA,QAAIG,gBAAgB,SAAhBA,aAAgB,CAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC1C,YAAG,CAACF,IAAIG,IAAR,EAAc;AACVF,gBAAIG,QAAJ,CAAa,OAAb;AACH;AACDF;AACH,KALD;;AAOF,QAAIG,iBAAiB,SAAjBA,cAAiB,CAAUL,GAAV,EAAeC,GAAf,EAAoB;AACnCA,YAAIK,MAAJ,CAAW,SAAX,EAAsB;AAClBC,mBAAO,gBADW;AAElBC,sBAAUR,IAAIG,IAAJ,KAAaM,SAAb,GAAyBA,SAAzB,GAAqCT,IAAIG,IAAJ,CAASO,QAFtC;AAGlBb,iBAAKA;AAHa,SAAtB;AAKH,KANH;;AAQA,WAAO;AACHQ,wBAAgBA,cADb;AAEHN,uBAAeA;AAFZ,KAAP;AAKD,CAxBD;;AA0BAY,OAAOC,OAAP,GAAiBjB,iBAAjB","file":"discussController.js","sourcesContent":["\nvar discussController = function (io, nav) {\n\n    require('../services/socket.io.service')(io);\n\n    var checkIfSignIn = function (req, res, next) {\n        if(!req.user) {\n            res.redirect('/auth');\n        }\n        next();\n    };\n\n  var getDiscussPage = function (req, res) {\n        res.render('discuss', {\n            title: 'Discuss - chat',\n            userName: req.user === undefined ? undefined : req.user.username,\n            nav: nav\n        });\n    };\n\n  return {\n      getDiscussPage: getDiscussPage,\n      checkIfSignIn: checkIfSignIn\n  };\n\n};\n\nmodule.exports = discussController;\n\n\n"]}