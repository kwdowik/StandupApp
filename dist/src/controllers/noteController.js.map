{"version":3,"sources":["../../../src/controllers/noteController.js"],"names":["Note","require","noteController","nav","checkIfSignIn","req","res","next","user","redirect","createNewNote","newNote","memberName","body","project","workYesterday","workToday","impediment","save","err","errMsg","render","title","message","console","log","getNote","userName","undefined","username","module","exports"],"mappings":";;AAAA,IAAIA,OAAOC,QAAQ,qBAAR,CAAX;;AAEA,IAAIC,iBAAiB,SAAjBA,cAAiB,CAAUC,GAAV,EAAe;;AAEhC,QAAIC,gBAAgB,SAAhBA,aAAgB,CAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAC1C,YAAG,CAACF,IAAIG,IAAR,EAAc;AACVF,gBAAIG,QAAJ,CAAa,OAAb;AACH;AACDF;AACH,KALD;;AAOA,QAAIG,gBAAgB,SAAhBA,aAAgB,CAAUL,GAAV,EAAeC,GAAf,EAAoB;AACpC,YAAIK,UAAU,IAAIX,IAAJ,CAAS;AACnBY,wBAAYP,IAAIQ,IAAJ,CAASD,UADF;AAEnBE,qBAAST,IAAIQ,IAAJ,CAASC,OAFC;AAGnBC,2BAAeV,IAAIQ,IAAJ,CAASE,aAHL;AAInBC,uBAAWX,IAAIQ,IAAJ,CAASG,SAJD;AAKnBC,wBAAYZ,IAAIQ,IAAJ,CAASI;AALF,SAAT,CAAd;;AAQAN,gBAAQO,IAAR,CAAa,UAAUC,GAAV,EAAe;AACxB,gBAAGA,GAAH,EAAQ;AACJ,oBAAIC,SAAS,gEAAgED,GAA7E;AACAb,oBAAIe,MAAJ,CAAW,SAAX,EAAsB,EAACC,OAAO,4BAAR,EAAsCC,SAASH,MAA/C,EAAtB;AACH,aAHD,MAIK;AACDI,wBAAQC,GAAR,CAAY,kCAAZ;AACA;AACAnB,oBAAIG,QAAJ,CAAa,GAAb,EAAkB,GAAlB;AACH;AACJ,SAVD;AAWH,KApBD;;AAsBA,QAAIiB,UAAU,SAAVA,OAAU,CAAUrB,GAAV,EAAeC,GAAf,EAAoB;AAC9BA,YAAIe,MAAJ,CAAW,SAAX,EAAsB;AAClBC,mBAAO,oBADW;AAElBC,qBAAS,EAFS;AAGlBpB,iBAAKA,GAHa;AAIlBwB,sBAAUtB,IAAIG,IAAJ,KAAaoB,SAAb,GAAyBA,SAAzB,GAAqCvB,IAAIG,IAAJ,CAASqB;AAJtC,SAAtB;AAMH,KAPD;;AASA,WAAO;AACHH,iBAASA,OADN;AAEHhB,uBAAeA,aAFZ;AAGHN,uBAAeA;AAHZ,KAAP;AAKH,CA7CD;;AA+CA0B,OAAOC,OAAP,GAAiB7B,cAAjB","file":"noteController.js","sourcesContent":["var Note = require('../models/noteModel');\n\nvar noteController = function (nav) {\n\n    var checkIfSignIn = function (req, res, next) {\n        if(!req.user) {\n            res.redirect('/auth');\n        }\n        next();\n    };\n\n    var createNewNote = function (req ,res) {\n        var newNote = new Note({\n            memberName: req.body.memberName,\n            project: req.body.project,\n            workYesterday: req.body.workYesterday,\n            workToday: req.body.workToday,\n            impediment: req.body.impediment\n        });\n\n        newNote.save(function (err) {\n            if(err) {\n                var errMsg = 'Sorry there was an error saving the stand-up meeting note. ' + err;\n                res.render('newnote', {title: 'Standup - New Note (error)', message: errMsg});\n            }\n            else {\n                console.log('Stand-up meeting note was saved!');\n                // res.send(newNote);\n                res.redirect(301, '/');\n            }\n        });\n    };\n\n    var getNote = function (req, res) {\n        res.render('newnote', {\n            title: 'Standup - New Note',\n            message: '',\n            nav: nav,\n            userName: req.user === undefined ? undefined : req.user.username\n        });\n    };\n    \n    return {\n        getNote: getNote,\n        createNewNote: createNewNote,\n        checkIfSignIn: checkIfSignIn\n    };\n};\n\nmodule.exports = noteController;\n"]}