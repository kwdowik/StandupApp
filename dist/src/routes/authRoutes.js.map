{"version":3,"sources":["../../../src/routes/authRoutes.js"],"names":["express","require","authRouter","Router","passport","router","nav","authController","route","get","getLoginPage","post","authenticate","failureRedirect","tryToSignIn","signOut","all","checkAuthentication","signIn","getRegisterPage","register","module","exports"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,aAAaF,QAAQG,MAAR,EAAjB;AACA,IAAIC,WAAWH,QAAQ,UAAR,CAAf;;AAEA,IAAII,SAAS,SAATA,MAAS,CAAUC,GAAV,EAAe;AACxB,QAAIC,iBAAiBN,QAAQ,+BAAR,EAAyCK,GAAzC,CAArB;;AAEAJ,eAAWM,KAAX,CAAiB,GAAjB,EACKC,GADL,CACSF,eAAeG,YADxB;;AAGAR,eAAWM,KAAX,CAAiB,QAAjB,EACKG,IADL,CACUP,SAASQ,YAAT,CAAsB,OAAtB,EAA+B;AACjCC,yBAAiB,mBADgB,EAA/B,CADV,EAEgDN,eAAeO,WAF/D;;AAIAZ,eAAWM,KAAX,CAAiB,SAAjB,EACKC,GADL,CACSF,eAAeQ,OADxB;;AAGAb,eAAWM,KAAX,CAAiB,UAAjB,EACKQ,GADL,CACST,eAAeU,mBADxB,EAEKR,GAFL,CAESF,eAAeW,MAFxB;;AAIAhB,eAAWM,KAAX,CAAiB,WAAjB,EACKC,GADL,CACSF,eAAeY,eADxB,EAEKR,IAFL,CAEUJ,eAAea,QAFzB;;AAII,WAAOlB,UAAP;AACP,CAtBD;;AAwBAmB,OAAOC,OAAP,GAAiBjB,MAAjB","file":"authRoutes.js","sourcesContent":["var express = require('express');\nvar authRouter = express.Router();\nvar passport = require('passport');\n\nvar router = function (nav) {\n    var authController = require('../controllers/authController')(nav);\n\n    authRouter.route('/')\n        .get(authController.getLoginPage);\n\n    authRouter.route('/login')\n        .post(passport.authenticate('local', {\n            failureRedirect: '/auth/?error=true'}), authController.tryToSignIn);\n\n    authRouter.route('/logout')\n        .get(authController.signOut);\n\n    authRouter.route('/profile')\n        .all(authController.checkAuthentication)\n        .get(authController.signIn);\n\n    authRouter.route('/register')\n        .get(authController.getRegisterPage)\n        .post(authController.register);\n\n        return authRouter;\n};\n\nmodule.exports = router;\n"]}